.topbar
  .topbar-inner
    .container
      %h3{:id => 'logo'}
        = link_to 'CodeCampo', root_path
      %ul.nav
        %li{:class => (controller_name == 'homepage' ? 'active' : nil)}
          = link_to 'Home', root_path
        %li{:class => (controller_name == 'resources' ? 'active' : nil)}
          = link_to 'Resources', resources_path
        %li{:class => (controller_name == 'topics' ? 'active' : nil)}
          = link_to 'Topics', topics_path
        - if logined?
          %li{:class => (controller_name == 'people' && @person == current_user ? 'active' : nil)}
            = link_to 'Profile', person_path(:name => current_user)
      %ul.nav.secondary-nav
        - if logined?
          - notification_class = []
          - notification_class << 'unread' if current_user.notifications.has_unread?
          - notification_class << 'active' if controller_name == 'notifications'
          %li.notifications{:class => notification_class}
            = content_tag 'a', :href => notifications_path do
              %span.count= current_user.notifications.unread.count
          %li.dropdown{'data-dropdown' => 'dropdown'}
            %a{:href => '#', :class => 'dropdown-toggle'}
              = current_user.name
            %ul.dropdown-menu
              %li
                = link_to 'Settings', settings_account_path
              %li.divider
              %li
                = link_to 'Logout', logout_path, :method => :delete
        - else
          %li
            = link_to 'Signup', signup_path
          %li
            = link_to 'Login', login_path
